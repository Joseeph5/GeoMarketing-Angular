

<div class="col-md-1 ng">
  <div class="list-group affix_dash" (scroll)="onWindowScroll($event);" id="sidebar">

    <a routerLink="/dashboard" class="list-group-item active main-color-bg">
      <i class="material-icons mg-icon">dashboard </i>
    </a>
    <a routerLink="/planning" class="list-group-item"> <i class="material-icons mg-icon">edit </i></a>
    <a routerLink="/tracking" class="list-group-item"> <i class="material-icons mg-icon">track_changes </i></a>

    <a routerLink="/missions" class="list-group-item"><i class="material-icons mg-icon">list </i> </a>

    <a routerLink="/driver" class="list-group-item"><i class="material-icons mg-icon">person</i> </a>
    <a routerLink="/groups" class="list-group-item"><i class="material-icons mg-icon">group</i> </a>
    <a routerLink="/cars" class="list-group-item"><i class="material-icons mg-icon">directions_car</i></a>
    

  </div>
</div>

<div class="col-md-offset-1 ">

  <div class="panel panel-default">
    <div class="panel-heading main-color-bg">
      <h3 class="panel-title panel-text" style="color:#ecf0f1;">Les Vehicules</h3>
    </div>
    <div class="panel-body">
      
          <div class=" col-md-offset-11">
              <button type="button" class="btn btn-success"  (click)="openDialog()">Add</button>
            </div>   
          
      <br>
      
        <div class=" col-md-offset-0">
          <ngx-datatable 
              #mydatatable
              class="material"
              [headerHeight]="50"
              [limit]="10"
              [columnMode]="'force'"
              [footerHeight]="50"
              [rowHeight]="'auto'"
              [rows]="rows">
              <ngx-datatable-column name="vehicule_id">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-vehicule_id'] = true"
                    *ngIf="!editing[rowIndex + '-vehicule_id']">
                    {{row.vehicule_id}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'vehicule_id', rowIndex)"
                    *ngIf="editing[rowIndex+ '-vehicule_id']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="mark"> 
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-mark'] = true"
                    *ngIf="!editing[rowIndex + '-mark']">
                    {{row.mark}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'mark', rowIndex)"
                    *ngIf="editing[rowIndex+ '-mark']"
                    type="text" 
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="matricule">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-matricule'] = true"
                    *ngIf="!editing[rowIndex + '-matricule']">
                    {{row.matricule}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'matricule', rowIndex)"
                    *ngIf="editing[rowIndex+ '-matricule']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="max_speed">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-max_speed'] = true"
                    *ngIf="!editing[rowIndex + '-max_speed']">
                    {{row.max_speed}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'max_speed', rowIndex)"
                    *ngIf="editing[rowIndex+ '-max_speed']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="icon">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-icon'] = true"
                    *ngIf="!editing[rowIndex + '-icon']">
                    {{row.icon}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'icon', rowIndex)"
                    *ngIf="editing[rowIndex+ '-icon']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="odo_offset">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-odo_offset'] = true"
                    *ngIf="!editing[rowIndex + '-odo_offset']">
                    {{row.odo_offset}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'odo_offset', rowIndex)"
                    *ngIf="editing[rowIndex+ '-odo_offset']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="last_odo_update">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-last_odo_update'] = true"
                    *ngIf="!editing[rowIndex + '-last_odo_update']">
                    {{row.last_odo_update}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'last_odo_update', rowIndex)"
                    *ngIf="editing[rowIndex+ '-last_odo_update']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="circulation_at">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-circulation_at'] = true"
                    *ngIf="!editing[rowIndex + '-circulation_at']">
                    {{row.circulation_at}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'circulation_at', rowIndex)"
                    *ngIf="editing[rowIndex+ '-circulation_at']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="sub_mark">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-sub_mark'] = true"
                    *ngIf="!editing[rowIndex + '-sub_mark']">
                    {{row.sub_mark}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'sub_mark', rowIndex)"
                    *ngIf="editing[rowIndex+ '-sub_mark']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="groupe">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-groupe'] = true"
                    *ngIf="!editing[rowIndex + '-groupe']">
                    {{row.groupe.groupe_id}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'sub_mark', rowIndex)"
                    *ngIf="editing[rowIndex+ '-sub_mark']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="have_avatar">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-have_avatar'] = true"
                    *ngIf="!editing[rowIndex + '-have_avatar']">
                    {{row.have_avatar}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'have_avatar', rowIndex)"
                    *ngIf="editing[rowIndex+ '-have_avatar']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              <ngx-datatable-column name="have_gray_card">
                <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex"  let-row="row">
                  <span
                    title="Double click to edit"
                    (dblclick)="editing[rowIndex + '-have_gray_card'] = true"
                    *ngIf="!editing[rowIndex + '-have_gray_card']">
                    {{row.have_gray_card}}
                  </span>
                  <input
                    autofocus
                    (blur)="updateValue($event, 'have_gray_card', rowIndex)"
                    *ngIf="editing[rowIndex+ '-have_gray_card']"
                    type="text"
                    [value]="value"
                  />
                </ng-template>
              </ngx-datatable-column>
              
              <ngx-datatable-column name="Action" prop="idmission" [sortable]="false">
                <ng-template let-rowIndex="rowIndex" let-id="value" ngx-datatable-cell-template>
                  <button class="btn btn-sm btn-danger" (click)="delete(id)">
                    <i class="fa fa-trash"></i> Delete
                  </button>
                  
                </ng-template>
              </ngx-datatable-column>
            </ngx-datatable>
        </div>

    </div>

  </div>

</div>
